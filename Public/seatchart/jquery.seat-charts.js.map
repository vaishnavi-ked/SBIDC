{"version":3,"file":"jquery.seat-charts.js","names":["$","fn","seatCharts","setup","data","seats","seatIds","legend","settings","animate","naming","top","left","getId","character","row","column","getLabel","node","items","click","status","style","focus","blur","seat","seatChartsSettings","extend","$node","attr","id","role","focusable","tabIndex","text","label","addClass","concat","classes","join","arguments","length","newStyle","oldStyle","switchClass","removeClass","seatSettings","each","index","callback","undefined","apply","on","$seat","e","$newSeat","which","preventDefault","findAvailable","$rows","$seats","$currentRow","$newRow","last","first","eq","find","hasClass","parents","rows","i","push","map","columns","split","$headerRow","append","value","characters","$row","match","characterParams","matches","params","overrideId","overrideLabel","$container","insertAfter","$ul","appendTo","item","seatsIds","newStatus","seatId","call","query","seatSet","set","RegExp","indexOf","parts","args","that","get","_typeof","jQuery"],"sources":["../../../../../src/rc/Public/seatchart/jquery.seat-charts.js"],"sourcesContent":["/*!\r\n * jQuery-Seat-Charts v1.1.5\r\n * https://github.com/mateuszmarkowski/jQuery-Seat-Charts\r\n *\r\n * Copyright 2013, 2016 Mateusz Markowski\r\n * Released under the MIT license\r\n */\r\n\r\n(function($) {\r\n\t\t\r\n\t//'use strict';\t\r\n\t\t\r\n\t$.fn.seatCharts = function (setup) {\r\n\r\n\t\t//if there's seatCharts object associated with the current element, return it\r\n\t\tif (this.data('seatCharts')) {\r\n\t\t\treturn this.data('seatCharts');\r\n\t\t}\r\n\t\t\r\n\t\tvar fn       = this,\r\n\t\t\tseats    = {},\r\n\t\t\tseatIds  = [],\r\n\t\t\tlegend,\r\n\t\t\tsettings = {\r\n\t\t\t\tanimate : false, //requires jQuery UI\r\n\t\t\t\tnaming  : {\r\n\t\t\t\t\ttop    : true,\r\n\t\t\t\t\tleft   : true,\r\n\t\t\t\t\tgetId  : function(character, row, column) {\r\n\t\t\t\t\t\treturn row + '_' + column;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgetLabel : function (character, row, column) {\r\n\t\t\t\t\t\treturn column;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tlegend : {\r\n\t\t\t\t\tnode   : null,\r\n\t\t\t\t\titems  : []\r\n\t\t\t\t},\r\n\t\t\t\tclick   : function() {\r\n\r\n\t\t\t\t\tif (this.status() == 'available') {\r\n\t\t\t\t\t\treturn 'selected';\r\n\t\t\t\t\t} else if (this.status() == 'selected') {\r\n\t\t\t\t\t\treturn 'available';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.style();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tfocus  : function() {\r\n\r\n\t\t\t\t\tif (this.status() == 'available') {\r\n\t\t\t\t\t\treturn 'focused';\r\n\t\t\t\t\t} else  {\r\n\t\t\t\t\t\treturn this.style();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tblur   : function() {\r\n\t\t\t\t\treturn this.status();\r\n\t\t\t\t},\r\n\t\t\t\tseats   : {}\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t//seat will be basically a seat object which we'll when generating the map\r\n\t\t\tseat = (function(seatCharts, seatChartsSettings) {\r\n\t\t\t\treturn function (setup) {\r\n\t\t\t\t\tvar fn = this;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfn.settings = $.extend({\r\n\t\t\t\t\t\tstatus : 'available', //available, unavailable, selected\r\n\t\t\t\t\t\tstyle  : 'available',\r\n\t\t\t\t\t\t//make sure there's an empty hash if user doesn't pass anything\r\n\t\t\t\t\t\tdata   : seatChartsSettings.seats[setup.character] || {}\r\n\t\t\t\t\t\t//anything goes here?\r\n\t\t\t\t\t}, setup);\r\n\r\n\t\t\t\t\tfn.settings.$node = $('<div></div>');\r\n\t\t\t\t\t\r\n\t\t\t\t\tfn.settings.$node\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tid             : fn.settings.id,\r\n\t\t\t\t\t\t\trole           : 'checkbox',\r\n\t\t\t\t\t\t\t'aria-checked' : false,\r\n\t\t\t\t\t\t\tfocusable      : true,\r\n\t\t\t\t\t\t\ttabIndex       : -1 //manual focus\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.text(fn.settings.label)\r\n\t\t\t\t\t\t.addClass(['seatCharts-seat', 'seatCharts-cell', 'available'].concat(\r\n\t\t\t\t\t\t\t//let's merge custom user defined classes with standard JSC ones\r\n\t\t\t\t\t\t\tfn.settings.classes, \r\n\t\t\t\t\t\t\ttypeof seatChartsSettings.seats[fn.settings.character] == \"undefined\" ? \r\n\t\t\t\t\t\t\t\t[] : seatChartsSettings.seats[fn.settings.character].classes\r\n\t\t\t\t\t\t\t).join(' '));\r\n\t\t\t\t\t\r\n\t\t\t\t\t//basically a wrapper function\r\n\t\t\t\t\tfn.data = function() {\r\n\t\t\t\t\t\treturn fn.settings.data;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tfn.char = function() {\r\n\t\t\t\t\t\treturn fn.settings.character;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tfn.node = function() {\r\n\t\t\t\t\t\treturn fn.settings.$node;\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t/*\r\n\t\t\t\t\t * Can either set or return status depending on arguments.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * If there's no argument, it will return the current style.\r\n\t\t\t\t\t *\r\n\t\t\t\t\t * If you pass an argument, it will update seat's style\r\n\t\t\t\t\t */\r\n\t\t\t\t\tfn.style = function() {\r\n\r\n\t\t\t\t\t\treturn arguments.length == 1 ?\r\n\t\t\t\t\t\t\t(function(newStyle) {\r\n\t\t\t\t\t\t\t\tvar oldStyle = fn.settings.style;\r\n\r\n\t\t\t\t\t\t\t\t//if nothing changes, do nothing\r\n\t\t\t\t\t\t\t\tif (newStyle == oldStyle) {\r\n\t\t\t\t\t\t\t\t\treturn oldStyle;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//focused is a special style which is not associated with status\r\n\t\t\t\t\t\t\t\tfn.settings.status = newStyle != 'focused' ? newStyle : fn.settings.status;\r\n\t\t\t\t\t\t\t\tfn.settings.$node\r\n\t\t\t\t\t\t\t\t\t.attr('aria-checked', newStyle == 'selected');\r\n\r\n\t\t\t\t\t\t\t\t//if user wants to animate status changes, let him do this\r\n\t\t\t\t\t\t\t\tseatChartsSettings.animate ?\r\n\t\t\t\t\t\t\t\t\tfn.settings.$node.switchClass(oldStyle, newStyle, 200) :\r\n\t\t\t\t\t\t\t\t\tfn.settings.$node.removeClass(oldStyle).addClass(newStyle);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn fn.settings.style = newStyle;\r\n\t\t\t\t\t\t\t})(arguments[0]) : fn.settings.style;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t//either set or retrieve\r\n\t\t\t\t\tfn.status = function() {\r\n\t\r\n\t\t\t\t\t\treturn fn.settings.status = arguments.length == 1 ? \r\n\t\t\t\t\t\t\tfn.style(arguments[0]) : fn.settings.status;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t//using immediate function to convienietly get shortcut variables\r\n\t\t\t\t\t(function(seatSettings, character, seat) {\r\n\t\t\t\t\t\t//attach event handlers\r\n\t\t\t\t\t\t$.each(['click', 'focus', 'blur'], function(index, callback) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//we want to be able to call the functions for each seat object\r\n\t\t\t\t\t\t\tfn[callback] = function() {\r\n\t\t\t\t\t\t\t\tif (callback == 'focus') {\r\n\t\t\t\t\t\t\t\t\t//if there's already a focused element, we have to remove focus from it first\r\n\t\t\t\t\t\t\t\t\tif (seatCharts.attr('aria-activedescendant') !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\tseats[seatCharts.attr('aria-activedescendant')].blur();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tseatCharts.attr('aria-activedescendant', seat.settings.id);\r\n\t\t\t\t\t\t\t\t\tseat.node().focus();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t * User can pass his own callback function, so we have to first check if it exists\r\n\t\t\t\t\t\t\t\t * and if not, use our default callback.\r\n\t\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t\t * Each callback function is executed in the current seat context.\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\treturn fn.style(typeof seatSettings[character][callback] === 'function' ?\r\n\t\t\t\t\t\t\t\t\tseatSettings[character][callback].apply(seat) : seatChartsSettings[callback].apply(seat));\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t//the below will become seatSettings, character, seat thanks to the immediate function\t\t\r\n\t\t\t\t\t})(seatChartsSettings.seats, fn.settings.character, fn);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\tfn.node()\r\n\t\t\t\t\t\t//the first three mouse events are simple\r\n\t\t\t\t\t\t.on('click',      fn.click)\r\n\t\t\t\t\t\t.on('mouseenter', fn.focus)\r\n\t\t\t\t\t\t.on('mouseleave', fn.blur)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//keydown requires quite a lot of logic, because we have to know where to move the focus\r\n\t\t\t\t\t\t.on('keydown',    (function(seat, $seat) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn function (e) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar $newSeat;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t//everything depends on the pressed key\r\n\t\t\t\t\t\t\t\tswitch (e.which) {\r\n\t\t\t\t\t\t\t\t\t//spacebar will just trigger the same event mouse click does\r\n\t\t\t\t\t\t\t\t\tcase 32:\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tseat.click();\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t//UP & DOWN\r\n\t\t\t\t\t\t\t\t\tcase 40:\r\n\t\t\t\t\t\t\t\t\tcase 38:\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t * This is a recursive, immediate function which searches for the first \"focusable\" row.\r\n\t\t\t\t\t\t\t\t\t\t * \r\n\t\t\t\t\t\t\t\t\t\t * We're using immediate function because we want a convenient access to some DOM elements\r\n\t\t\t\t\t\t\t\t\t\t * We're using recursion because sometimes we may hit an empty space rather than a seat.\r\n\t\t\t\t\t\t\t\t\t\t *\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\t$newSeat = (function findAvailable($rows, $seats, $currentRow) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar $newRow;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t//let's determine which row should we move to\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (!$rows.index($currentRow) && e.which == 38) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//if this is the first row and user has pressed up arrow, move to the last row\r\n\t\t\t\t\t\t\t\t\t\t\t\t$newRow = $rows.last();\r\n\t\t\t\t\t\t\t\t\t\t\t} else if ($rows.index($currentRow) == $rows.length-1 && e.which == 40) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//if this is the last row and user has pressed down arrow, move to the first row\r\n\t\t\t\t\t\t\t\t\t\t\t\t$newRow = $rows.first();\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//using eq to get an element at the desired index position\r\n\t\t\t\t\t\t\t\t\t\t\t\t$newRow = $rows.eq(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//if up arrow, then decrement the index, if down increment it\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$rows.index($currentRow) + (e.which == 38 ? (-1) : (+1))\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t//now that we know the row, let's get the seat using the current column position\r\n\t\t\t\t\t\t\t\t\t\t\t$newSeat = $newRow.find('.seatCharts-seat,.seatCharts-space').eq($seats.index($seat));\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t//if the seat we found is a space, keep looking further\r\n\t\t\t\t\t\t\t\t\t\t\treturn $newSeat.hasClass('seatCharts-space') ?\r\n\t\t\t\t\t\t\t\t\t\t\t\tfindAvailable($rows, $seats, $newRow) : $newSeat;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t})($seat\r\n\t\t\t\t\t\t\t\t\t\t\t//get a reference to the parent container and then select all rows but the header\r\n\t\t\t\t\t\t\t\t\t\t\t\t.parents('.seatCharts-container')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.find('.seatCharts-row:not(.seatCharts-header)'),\r\n\t\t\t\t\t\t\t\t\t\t\t$seat\r\n\t\t\t\t\t\t\t\t\t\t\t//get a reference to the parent row and then find all seat cells (both seats & spaces)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.parents('.seatCharts-row:first')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.find('.seatCharts-seat,.seatCharts-space'),\r\n\t\t\t\t\t\t\t\t\t\t\t//get a reference to the current row\r\n\t\t\t\t\t\t\t\t\t\t\t$seat.parents('.seatCharts-row:not(.seatCharts-header)')\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//we couldn't determine the new seat, so we better give up\r\n\t\t\t\t\t\t\t\t\t\tif (!$newSeat.length) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//remove focus from the old seat and put it on the new one\r\n\t\t\t\t\t\t\t\t\t\tseat.blur();\r\n\t\t\t\t\t\t\t\t\t\tseats[$newSeat.attr('id')].focus();\r\n\t\t\t\t\t\t\t\t\t\t$newSeat.focus();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//update our \"aria\" reference with the new seat id\r\n\t\t\t\t\t\t\t\t\t\tseatCharts.attr('aria-activedescendant', $newSeat.attr('id'));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tbreak;\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t//LEFT & RIGHT\r\n\t\t\t\t\t\t\t\t\tcase 37:\r\n\t\t\t\t\t\t\t\t\tcase 39:\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t * The logic here is slightly different from the one for up/down arrows.\r\n\t\t\t\t\t\t\t\t\t\t * User will be able to browse the whole map using just left/right arrow, because\r\n\t\t\t\t\t\t\t\t\t\t * it will move to the next row when we reach the right/left-most seat.\r\n\t\t\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\t\t\t$newSeat = (function($seats) {\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (!$seats.index($seat) && e.which == 37) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//user has pressed left arrow and we're currently on the left-most seat\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn $seats.last();\r\n\t\t\t\t\t\t\t\t\t\t\t} else if ($seats.index($seat) == $seats.length -1 && e.which == 39) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//user has pressed right arrow and we're currently on the right-most seat\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn $seats.first();\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//simply move one seat left or right depending on the key\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn $seats.eq($seats.index($seat) + (e.which == 37 ? (-1) : (+1)));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t})($seat\r\n\t\t\t\t\t\t\t\t\t\t\t.parents('.seatCharts-container:first')\r\n\t\t\t\t\t\t\t\t\t\t\t.find('.seatCharts-seat:not(.seatCharts-space)'));\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (!$newSeat.length) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//handle focus\r\n\t\t\t\t\t\t\t\t\t\tseat.blur();\t\r\n\t\t\t\t\t\t\t\t\t\tseats[$newSeat.attr('id')].focus();\r\n\t\t\t\t\t\t\t\t\t\t$newSeat.focus();\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t//update our \"aria\" reference with the new seat id\r\n\t\t\t\t\t\t\t\t\t\tseatCharts.attr('aria-activedescendant', $newSeat.attr('id'));\r\n\t\t\t\t\t\t\t\t\t\tbreak;\t\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})(fn, fn.node()));\r\n\t\t\t\t\t\t//.appendTo(seatCharts.find('.' + row));\r\n\r\n\t\t\t\t}\r\n\t\t\t})(fn, settings);\r\n\t\t\t\r\n\t\tfn.addClass('seatCharts-container');\r\n\t\t\r\n\t\t//true -> deep copy!\r\n\t\t$.extend(true, settings, setup);\t\t\r\n\t\t\r\n\t\t//Generate default row ids unless user passed his own\r\n\t\tsettings.naming.rows = settings.naming.rows || (function(length) {\r\n\t\t\tvar rows = [];\r\n\t\t\tfor (var i = 1; i <= length; i++) {\r\n\t\t\t\trows.push(i);\r\n\t\t\t}\r\n\t\t\treturn rows;\r\n\t\t})(settings.map.length);\r\n\t\t\r\n\t\t//Generate default column ids unless user passed his own\r\n\t\tsettings.naming.columns = settings.naming.columns || (function(length) {\r\n\t\t\tvar columns = [];\r\n\t\t\tfor (var i = 1; i <= length; i++) {\r\n\t\t\t\tcolumns.push(i);\r\n\t\t\t}\r\n\t\t\treturn columns;\r\n\t\t})(settings.map[0].split('').length);\r\n\t\t\r\n\t\tif (settings.naming.top) {\r\n\t\t\tvar $headerRow = $('<div></div>')\r\n\t\t\t\t.addClass('seatCharts-row seatCharts-header');\r\n\t\t\t\r\n\t\t\tif (settings.naming.left) {\r\n\t\t\t\t$headerRow.append($('<div></div>').addClass('seatCharts-cell'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t$.each(settings.naming.columns, function(index, value) {\r\n\t\t\t\t$headerRow.append(\r\n\t\t\t\t\t$('<div></div>')\r\n\t\t\t\t\t\t.addClass('seatCharts-cell')\r\n\t\t\t\t\t\t.text(value)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tfn.append($headerRow);\r\n\t\t\r\n\t\t//do this for each map row\r\n\t\t$.each(settings.map, function(row, characters) {\r\n\r\n\t\t\tvar $row = $('<div></div>').addClass('seatCharts-row');\r\n\t\t\t\t\r\n\t\t\tif (settings.naming.left) {\r\n\t\t\t\t$row.append(\r\n\t\t\t\t\t$('<div></div>')\r\n\t\t\t\t\t\t.addClass('seatCharts-cell seatCharts-space')\r\n\t\t\t\t\t\t.text(settings.naming.rows[row])\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Do this for each seat (letter)\r\n\t\t\t *\r\n\t\t\t * Now users will be able to pass custom ID and label which overwrite the one that seat would be assigned by getId and\r\n\t\t\t * getLabel\r\n\t\t\t *\r\n\t\t\t * New format is like this:\r\n\t\t\t * a[ID,label]a[ID]aaaaa\r\n\t\t\t *\r\n\t\t\t * So you can overwrite the ID or label (or both) even for just one seat.\r\n\t\t\t * Basically ID should be first, so if you want to overwrite just label write it as follows:\r\n\t\t\t * a[,LABEL]\r\n\t\t\t *\r\n\t\t\t * Allowed characters in IDs areL 0-9, a-z, A-Z, _\r\n\t\t\t * Allowed characters in labels are: 0-9, a-z, A-Z, _, ' ' (space)\r\n\t\t\t *\r\n\t\t\t */\r\n\t\t\t \r\n\t\t\t$.each(characters.match(/[a-z_]{1}(\\[[0-9a-z_]{0,}(,[0-9a-z_ ]+)?\\])?/gi), function (column, characterParams) { \r\n\t\t\t\tvar matches         = characterParams.match(/([a-z_]{1})(\\[([0-9a-z_ ,]+)\\])?/i),\r\n\t\t\t\t\t//no matter if user specifies [] params, the character should be in the second element\r\n\t\t\t\t\tcharacter       = matches[1],\r\n\t\t\t\t\t//check if user has passed some additional params to override id or label\r\n\t\t\t\t\tparams          = typeof matches[3] !== 'undefined' ? matches[3].split(',') : [],\r\n\t\t\t\t\t//id param should be first\r\n\t\t\t\t\toverrideId      = params.length ? params[0] : null,\r\n\t\t\t\t\t//label param should be second\r\n\t\t\t\t\toverrideLabel   = params.length === 2 ? params[1] : null;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t$row.append(character != '_' ?\r\n\t\t\t\t\t//if the character is not an underscore (empty space)\r\n\t\t\t\t\t(function(naming) {\r\n\t\r\n\t\t\t\t\t\t//so users don't have to specify empty objects\r\n\t\t\t\t\t\tsettings.seats[character] = character in settings.seats ? settings.seats[character] : {};\r\n\t\r\n\t\t\t\t\t\tvar id = overrideId ? overrideId : naming.getId(character, naming.rows[row], naming.columns[column]);\r\n\t\t\t\t\t\tseats[id] = new seat({\r\n\t\t\t\t\t\t\tid        : id,\r\n\t\t\t\t\t\t\tlabel     : overrideLabel ?\r\n\t\t\t\t\t\t\t\toverrideLabel : naming.getLabel(character, naming.rows[row], naming.columns[column]),\r\n\t\t\t\t\t\t\trow       : row,\r\n\t\t\t\t\t\t\tcolumn    : column,\r\n\t\t\t\t\t\t\tcharacter : character\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tseatIds.push(id);\r\n\t\t\t\t\t\treturn seats[id].node();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})(settings.naming) :\r\n\t\t\t\t\t//this is just an empty space (_)\r\n\t\t\t\t\t$('<div></div>').addClass('seatCharts-cell seatCharts-space')\t\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tfn.append($row);\r\n\t\t});\r\n\t\r\n\t\t//if there're any legend items to be rendered\r\n\t\tsettings.legend.items.length ? (function(legend) {\r\n\t\t\t//either use user-defined container or create our own and insert it right after the seat chart div\r\n\t\t\tvar $container = (legend.node || $('<div></div>').insertAfter(fn))\r\n\t\t\t\t.addClass('seatCharts-legend');\r\n\t\t\t\t\r\n\t\t\tvar $ul = $('<ul></ul>')\r\n\t\t\t\t.addClass('seatCharts-legendList')\r\n\t\t\t\t.appendTo($container);\r\n\t\t\t\r\n\t\t\t$.each(legend.items, function(index, item) {\r\n\t\t\t\t$ul.append(\r\n\t\t\t\t\t$('<li></li>')\r\n\t\t\t\t\t\t.addClass('seatCharts-legendItem')\r\n\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t$('<div></div>')\r\n\t\t\t\t\t\t\t\t//merge user defined classes with our standard ones\r\n\t\t\t\t\t\t\t\t.addClass(['seatCharts-seat', 'seatCharts-cell', item[1]].concat(\r\n\t\t\t\t\t\t\t\t\tsettings.classes, \r\n\t\t\t\t\t\t\t\t\ttypeof settings.seats[item[0]] == \"undefined\" ? [] : settings.seats[item[0]].classes).join(' ')\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.append(\r\n\t\t\t\t\t\t\t$('<span></span>')\r\n\t\t\t\t\t\t\t\t.addClass('seatCharts-legendDescription')\r\n\t\t\t\t\t\t\t\t.text(item[2])\r\n\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn $container;\r\n\t\t})(settings.legend) : null;\r\n\t\r\n\t\tfn.attr({\r\n\t\t\ttabIndex : 0\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\t//when container's focused, move focus to the first seat\r\n\t\tfn.focus(function() {\r\n\t\t\tif (fn.attr('aria-activedescendant')) {\r\n\t\t\t\tseats[fn.attr('aria-activedescendant')].blur();\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tfn.find('.seatCharts-seat:not(.seatCharts-space):first').focus();\r\n\t\t\tseats[seatIds[0]].focus();\r\n\r\n\t\t});\r\n\t\r\n\t\t//public methods of seatCharts\r\n\t\tfn.data('seatCharts', {\r\n\t\t\tseats   : seats,\r\n\t\t\tseatIds : seatIds,\r\n\t\t\t//set for one, set for many, get for one\r\n\t\t\tstatus: function() {\r\n\t\t\t\tvar fn = this;\r\n\t\t\t\r\n\t\t\t\treturn arguments.length == 1 ? fn.seats[arguments[0]].status() : (function(seatsIds, newStatus) {\r\n\t\t\t\t\r\n\t\t\t\t\treturn typeof seatsIds == 'string' ? fn.seats[seatsIds].status(newStatus) : (function() {\r\n\t\t\t\t\t\t$.each(seatsIds, function(index, seatId) {\r\n\t\t\t\t\t\t\tfn.seats[seatId].status(newStatus);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})();\r\n\t\t\t\t})(arguments[0], arguments[1]);\r\n\t\t\t},\r\n\t\t\teach  : function(callback) {\r\n\t\t\t\tvar fn = this;\r\n\t\t\t\r\n\t\t\t\tfor (var seatId in fn.seats) {\r\n\t\t\t\t\tif (false === callback.call(fn.seats[seatId], seatId)) {\r\n\t\t\t\t\t\treturn seatId;//return last checked\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tnode       : function() {\r\n\t\t\t\tvar fn = this;\r\n\t\t\t\t//basically create a CSS query to get all seats by their DOM ids\r\n\t\t\t\treturn $('#' + fn.seatIds.join(',#'));\r\n\t\t\t},\r\n\r\n\t\t\tfind       : function(query) {//D, a.available, unavailable\r\n\t\t\t\tvar fn = this;\r\n\t\t\t\r\n\t\t\t\tvar seatSet = fn.set();\r\n\t\t\t\r\n\t\t\t\t//is RegExp\r\n\t\t                return query instanceof RegExp ?\r\n\t\t                    (function () {\r\n\t\t                        fn.each(function (id) {\r\n\t\t                            if (id.match(query)) {\r\n\t\t                                seatSet.push(id, this);\r\n\t\t                            }\r\n\t\t                        });\r\n\t\t                        return seatSet;\r\n\t\t                    })() :\r\n\t\t                    (query.length == 1 ?\r\n\t\t                            (function (character) {\r\n\t\t                                //user searches just for a particual character\r\n\t\t                                fn.each(function () {\r\n\t\t                                    if (this.char() == character) {\r\n\t\t                                        seatSet.push(this.settings.id, this);\r\n\t\t                                    }\r\n\t\t                                });\r\n\t\t\r\n\t\t                                return seatSet;\r\n\t\t                            })(query) :\r\n\t\t                            (function () {\r\n\t\t                                //user runs a more sophisticated query, so let's see if there's a dot\r\n\t\t                                return query.indexOf('.') > -1 ?\r\n\t\t                                    (function () {\r\n\t\t                                        //there's a dot which separates character and the status\r\n\t\t                                        var parts = query.split('.');\r\n\t\t\r\n\t\t                                        fn.each(function (seatId) {\r\n\t\t                                            if (this.char() == parts[0] && this.status() == parts[1]) {\r\n\t\t                                                seatSet.push(this.settings.id, this);\r\n\t\t                                            }\r\n\t\t                                        });\r\n\t\t\r\n\t\t                                        return seatSet;\r\n\t\t                                    })() :\r\n\t\t                                    (function () {\r\n\t\t                                        fn.each(function () {\r\n\t\t                                            if (this.status() == query) {\r\n\t\t                                                seatSet.push(this.settings.id, this);\r\n\t\t                                            }\r\n\t\t                                        });\r\n\t\t                                        return seatSet;\r\n\t\t                                    })();\r\n\t\t                            })()\r\n\t\t                    );\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tset        : function set() {//inherits some methods\r\n\t\t\t\tvar fn = this;\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\tseats      : [],\r\n\t\t\t\t\tseatIds    : [],\r\n\t\t\t\t\tlength     : 0,\r\n\t\t\t\t\tstatus     : function() {\r\n\t\t\t\t\t\tvar args = arguments,\r\n\t\t\t\t\t\t\tthat = this;\r\n\t\t\t\t\t\t//if there's just one seat in the set and user didn't pass any params, return current status\r\n\t\t\t\t\t\treturn this.length == 1 && args.length == 0 ? this.seats[0].status() : (function() {\r\n\t\t\t\t\t\t\t//otherwise call status function for each of the seats in the set\r\n\t\t\t\t\t\t\t$.each(that.seats, function() {\r\n\t\t\t\t\t\t\t\tthis.status.apply(this, args);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnode       : function() {\r\n\t\t\t\t\t\treturn fn.node.call(this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\teach       : function() {\r\n\t\t\t\t\t\treturn fn.each.call(this, arguments[0]);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tget        : function() {\r\n\t\t\t\t\t\treturn fn.get.call(this, arguments[0]);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfind       : function() {\r\n\t\t\t\t\t\treturn fn.find.call(this, arguments[0]);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tset       : function() {\r\n\t\t\t\t\t\treturn set.call(fn);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpush       : function(id, seat) {\r\n\t\t\t\t\t\tthis.seats.push(seat);\r\n\t\t\t\t\t\tthis.seatIds.push(id);\r\n\t\t\t\t\t\t++this.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t//get one object or a set of objects\r\n\t\t\tget   : function(seatsIds) {\r\n\t\t\t\tvar fn = this;\r\n\r\n\t\t\t\treturn typeof seatsIds == 'string' ? \r\n\t\t\t\t\tfn.seats[seatsIds] : (function() {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar seatSet = fn.set();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$.each(seatsIds, function(index, seatId) {\r\n\t\t\t\t\t\t\tif (typeof fn.seats[seatId] === 'object') {\r\n\t\t\t\t\t\t\t\tseatSet.push(seatId, fn.seats[seatId]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn seatSet;\r\n\t\t\t\t\t})();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn fn.data('seatCharts');\r\n\t}\r\n\t\r\n\t\r\n})(jQuery);\r\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"SbidcnewWidget.js","names":["define","spandrel","subscriberMixIn","$","Promise","SELECTED_CLASS","BUTTON_CLASS","TITLE_TEXT","SELECTED_SLOT_TEXT","widgetDefaults","properties","selectedSlot","SbidcnewWidget","_spandrel","params","_this","_classCallCheck","_callSuper","defaults","getSubscriber","attach","rerender","_inherits","_createClass","key","value","doInitialize","dom","_this2","on","e","target","siblings","removeClass","addClass","$updateSlotText","setModified","getSelectedSlotName","selectedButton","jq","find","data","setValue","comp","_ref","jsx","className","getSlots","toArray","map","slot","type","getName","getDisplayName"],"sources":["../../../src/rc/SbidcnewWidget.js"],"sourcesContent":["\r\n\r\n/** @jsx spandrel.jsx */\r\n\r\n/**\r\n * A module defining `SbidcnewWidget`.\r\n *\r\n * @module nmodule/sbidcnew/rc/SbidcnewWidget\r\n */\r\ndefine([\r\n  'bajaux/spandrel',\r\n  'bajaux/mixin/subscriberMixIn',\r\n  'jquery',\r\n  'Promise' ], function (\r\n  spandrel,\r\n  subscriberMixIn,\r\n  $,\r\n  Promise) {\r\n\r\n  'use strict';\r\n\r\n  const SELECTED_CLASS = 'active';\r\n  const BUTTON_CLASS = 'SbidcnewWidget-button';\r\n\r\n  const TITLE_TEXT = 'These are the slots on your component.';\r\n  const SELECTED_SLOT_TEXT = \"You've selected slot: \";\r\n  const widgetDefaults = () => ({\r\n    properties: { selectedSlot: ' ' }\r\n  });\r\n\r\n  /**\r\n   * A demonstration Widget. This builds a list of buttons from the slots of a\r\n   * Complex value, allowing the user to select a slot.\r\n   *\r\n   * @class\r\n   * @extends module:nmodule/webEditors/rc/fe/baja/BaseEditor\r\n   * @alias module:nmodule/sbidcnew/rc/SbidcnewWidget\r\n   */\r\n  class SbidcnewWidget extends spandrel((comp, { properties }) => {\r\n    const { selectedSlot } = properties;\r\n    return <div class=\"SbidcnewWidget\">\r\n      <div class=\"SbidcnewWidget-header\">\r\n        <p>{ TITLE_TEXT }</p>\r\n        <p>\r\n          <span className=\"SbidcnewWidget-selected-slot-text\">{ SELECTED_SLOT_TEXT }</span>\r\n          <span className=\"SbidcnewWidget-selected-slot\">{ selectedSlot }</span>\r\n        </p>\r\n      </div>\r\n      <div class=\"SbidcnewWidget-content\">\r\n        <div className=\"SbidcnewWidget-button-container\">\r\n          { comp.getSlots().toArray().map((slot) => (\r\n            <button className=\"SbidcnewWidget-button\" type=\"button\" data-slot={ slot.getName() }>\r\n              { comp.getDisplayName(slot) }\r\n            </button>\r\n          )) }\r\n        </div>\r\n      </div>\r\n    </div>;\r\n  }) {\r\n    constructor(params) {\r\n      super({ params, defaults: widgetDefaults() });\r\n      subscriberMixIn(this);\r\n      this.getSubscriber().attach('added removed renamed', () => this.rerender());\r\n    }\r\n\r\n    /**\r\n     * Arm event handlers for the Widget.\r\n     *\r\n     * @param {jQuery} element the DOM element into which to load this widget\r\n     */\r\n    doInitialize(dom) {\r\n      dom.on('click', '.SbidcnewWidget-content button', (e) => {\r\n        const target = $(e.target);\r\n        target.siblings().removeClass(SELECTED_CLASS);\r\n        target.addClass(SELECTED_CLASS);\r\n        this.$updateSlotText();\r\n        this.setModified(true);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * @returns {string} the name of the currently selected slot\r\n     */\r\n    getSelectedSlotName() {\r\n      const selectedButton = this.jq().find(\r\n        '.SbidcnewWidget-content .' + BUTTON_CLASS + '.' + SELECTED_CLASS);\r\n\r\n      return selectedButton.data('slot');\r\n    }\r\n\r\n    /**\r\n     * Reads the currently selected slot and update the display accordingly.\r\n     *\r\n     * @private\r\n     */\r\n    $updateSlotText() {\r\n      const selectedSlot = this.getSelectedSlotName();\r\n      this.properties().setValue('selectedSlot', selectedSlot);\r\n    }\r\n  }\r\n\r\n  return SbidcnewWidget;\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]}